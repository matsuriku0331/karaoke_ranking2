<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>{% block title %}カラオケランキング{% endblock %}</title>
  <style>
    :root{
      --bg:#0f172a;         /* slate-900 */
      --card:#111827;       /* gray-900 */
      --muted:#94a3b8;      /* slate-400 */
      --text:#e5e7eb;       /* gray-200 */
      --accent:#22c55e;     /* green-500 */
      --accent-2:#06b6d4;   /* cyan-500 */
      --border:#1f2937;     /* gray-800 */
      --chip:#0ea5e9;       /* sky-500 */
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;background:linear-gradient(180deg,#0b1023, #0f172a 40%, #0b1023);
      color:var(--text); font-family: system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial;
      -webkit-font-smoothing:antialiased; line-height:1.6;
    }
    .container{max-width:1000px;margin:0 auto;padding:24px}
    header{
      position:sticky; top:0; z-index:10; backdrop-filter: blur(8px);
      background:rgba(15,23,42,.6); border-bottom:1px solid var(--border);
    }
    .nav{
      display:flex; align-items:center; justify-content:space-between;
      gap:16px; padding:12px 24px;
    }
    .brand{display:flex; align-items:center; gap:10px; font-weight:700}
    .brand .logo{
      width:28px;height:28px;border-radius:8px;
      background:conic-gradient(from 210deg, var(--accent), var(--accent-2));
      box-shadow:0 0 20px rgba(34,197,94,.35);
    }
    a,button{cursor:pointer}
    .btn{
      display:inline-flex; align-items:center; gap:8px;
      background:var(--accent); color:#0b1023; border:none; padding:9px 14px;
      border-radius:10px; font-weight:700; transition:transform .05s ease, box-shadow .2s;
      box-shadow:0 8px 24px rgba(34,197,94,.2), inset 0 -1px 0 rgba(0,0,0,.2);
    }
    .btn:hover{transform:translateY(-1px); box-shadow:0 12px 28px rgba(34,197,94,.25)}
    .btn.secondary{
      background:#1f2937; color:var(--text); box-shadow:none; border:1px solid var(--border);
    }
    .card{
      background:rgba(17,24,39,.66); border:1px solid var(--border);
      border-radius:16px; padding:18px;
      box-shadow:inset 0 1px 0 rgba(255,255,255,.03), 0 10px 30px rgba(2,6,23,.4);
    }
    .h1{font-size:clamp(22px,2.4vw,28px); font-weight:800; letter-spacing:.3px; margin:18px 0}
    .muted{color:var(--muted)}

    /* フォーム */
    .grid{display:grid; gap:12px}
    .grid.cols-3{grid-template-columns:1fr 1fr auto}
    .row{display:flex; gap:10px; flex-wrap:wrap}
    label{font-size:12px; color:var(--muted)}
    input[type="text"], select{
      width:100%; padding:10px 12px; color:var(--text); background:#0b1223;
      border:1px solid var(--border); border-radius:10px; outline:none;
    }
    input::placeholder{color:#708090}

    /* ソングカード */
    .song{margin-bottom:16px}
    .song-head{
      display:flex; gap:10px; align-items:center; justify-content:space-between; margin-bottom:8px;
    }
    .song-title{font-weight:800; font-size:18px}
    .artist{font-size:13px; color:var(--muted)}
    .chip{
      padding:4px 8px; background:rgba(14,165,233,.15);
      border:1px solid rgba(14,165,233,.35); color:#7dd3fc; border-radius:999px; font-size:12px
    }

    table{width:100%; border-collapse:separate; border-spacing:0 8px}
    th,td{text-align:left; padding:10px 12px}
    thead th{font-size:12px; color:var(--muted); font-weight:700}
    tbody tr{
      background:rgba(2,6,23,.55); border:1px solid var(--border);
    }
    tbody td:first-child{border-radius:10px 0 0 10px}
    tbody td:last-child{border-radius:0 10px 10px 0}
    .rank{
      font-weight:900; letter-spacing:.5px; width:52px; text-align:center;
    }
    .medal-1{color:#fde68a} /* 金 */
    .medal-2{color:#e5e7eb} /* 銀 */
    .medal-3{color:#fca5a5} /* 銅 */

    footer{opacity:.7; font-size:12px; text-align:center; padding:30px 0}
    @media (max-width:720px){
      .grid.cols-3{grid-template-columns:1fr}
      .song-title{font-size:16px}
      .nav{padding:10px 16px}
      .container{padding:18px}
    }
  </style>
  {% block head %}{% endblock %}
</head>
<body>
  <header>
    <div class="nav">
      <div class="brand">
        <div class="logo"></div>
        <div>カラオケランキング</div>
      </div>

      <!-- ランキング更新ボタン（rankingページで動くよう hidden を後で差し込む） -->
      <form id="updateForm" method="post" action="{{ url_for('update_ranking') }}">
        {% block update_hidden %}{% endblock %}
        <button class="btn" type="submit">ランキング更新</button>
      </form>
    </div>
  </header>

  <main class="container">
    {% block content %}{% endblock %}
  </main>

  <footer>© {{ 2025 }} Karaoke Ranking</footer>
  {% block scripts %}{% endblock %}
</body>
</html>